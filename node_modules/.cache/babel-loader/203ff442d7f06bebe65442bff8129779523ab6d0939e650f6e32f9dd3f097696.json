{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/Desktop/projects/comments-section/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"C:/Users/user/Desktop/projects/comments-section/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10;import React,{useState,useEffect}from\"react\";import styled from\"styled-components\";import MemoIconReply from\"../../assets/icons/IconReply\";import{Comments}from\"../../styles/CommentStyles\";import MemoIconEdit from\"../../assets/icons/IconEdit\";import MemoIconDelete from\"../../assets/icons/IconDelete\";import{CommentInput,ReplayButton}from\"../../styles/CommentStyles\";import CommentReplies from\"./CommentReplies\";import CommentDeleteDialogBox from\"./CommentDeleteDialogBox\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CountSection=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  background: #f5f6fa;\\n  margin: 15px;\\n  flex-direction: column;\\n  width: 50px;\\n  border-radius: 8px;\\n  height: 80px;\\n\"])));var Sign=styled.span(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  color: #696cae;\\n  font-size: 18px;\\n  font-weight: 600;\\n\"])));var Comment=styled.li(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin-bottom: 5px;\\n  padding: 15px;\\n  padding-left: 0;\\n  color: #8e9198;\\n  width: 100%;\\n\"])));var CommentHeader=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n\"])));var CommentAuthor=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  flex-wrap: wrap;\\n  align-content: center;\\n  display: flex;\\n\"])));var ReplaySection=styled.span(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  color: #5358b6;\\n  font-size: 13px;\\n  cursor: pointer;\\n  .icon {\\n    padding-right: 3px;\\n  }\\n  &:hover {\\n    color: #dadbe6;\\n  }\\n\"])));var Button=styled.span(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  color: #5358b6;\\n  font-size: 13px;\\n  cursor: pointer;\\n  .icon {\\n    padding-right: 3px;\\n  }\\n  &:hover {\\n    background: #dadbe6;\\n  }\\n\"])));var CommentContent=styled.p(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  margin-top: 0.5rem;\\n\"])));var Text=styled.span(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  background: #565baa;\\n  color: #dadff7;\\n  padding: 3px;\\n  padding-top: 0px;\\n\"])));var CommentUser=styled.span(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  color: #505860;\\n  font-weight: bold;\\n  padding-left: 8px;\\n\"])));var CommentCard=function CommentCard(_ref){var _data$user,_data$user2,_data$user3,_data$user4,_data$user5;var data=_ref.data,currentUser=_ref.currentUser,onAddReply=_ref.onAddReply;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),editedComment=_useState2[0],setEditedComment=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isEdit=_useState4[0],setEdited=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showDialog=_useState6[0],setShowDialog=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showReply=_useState8[0],setShowReply=_useState8[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Comments,{children:[/*#__PURE__*/_jsxs(CountSection,{children:[/*#__PURE__*/_jsx(Sign,{children:\"+\"}),data===null||data===void 0?void 0:data.score,/*#__PURE__*/_jsx(Sign,{children:\"-\"})]}),/*#__PURE__*/_jsxs(Comment,{children:[/*#__PURE__*/_jsxs(CommentHeader,{children:[/*#__PURE__*/_jsxs(CommentAuthor,{children:[/*#__PURE__*/_jsx(\"img\",{src:(_data$user=data.user)===null||_data$user===void 0?void 0:_data$user.image.webp,style:{width:\"10%\",height:\"10%\"}}),/*#__PURE__*/_jsxs(CommentUser,{children:[\" \",(_data$user2=data.user)===null||_data$user2===void 0?void 0:_data$user2.username,\" \",currentUser===((_data$user3=data.user)===null||_data$user3===void 0?void 0:_data$user3.username)?/*#__PURE__*/_jsx(Text,{children:\"you\"}):/*#__PURE__*/_jsx(_Fragment,{})]}),/*#__PURE__*/_jsxs(\"span\",{style:{paddingLeft:\"5px\"},children:[\" \",data.createdAt]})]}),currentUser===((_data$user4=data.user)===null||_data$user4===void 0?void 0:_data$user4.username)?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Button,{style:{color:\"red\",paddingRight:\"3px\"},onClick:function onClick(){return setShowDialog(true);},children:[/*#__PURE__*/_jsx(MemoIconDelete,{className:\"icon\"}),\"Delete\",\" \"]}),/*#__PURE__*/_jsxs(Button,{onClick:function onClick(){return setEdited(true);},children:[\" \",/*#__PURE__*/_jsx(MemoIconEdit,{className:\"icon\"}),\" Edit\"]})]}):/*#__PURE__*/_jsxs(ReplaySection,{onClick:function onClick(){return setShowReply(true);},children:[/*#__PURE__*/_jsx(MemoIconReply,{className:\"icon\"}),\"Reply\"]})]}),currentUser===((_data$user5=data.user)===null||_data$user5===void 0?void 0:_data$user5.username)&&isEdit?/*#__PURE__*/_jsxs(CommentContent,{children:[/*#__PURE__*/_jsx(CommentInput,{children:data.content}),/*#__PURE__*/_jsx(ReplayButton,{style:{marginLeft:\"88%\"},onClick:function onClick(){return setEdited(false);},children:\"UPDATE\"})]}):/*#__PURE__*/_jsx(CommentContent,{children:data.content})]})]}),showReply&&/*#__PURE__*/_jsx(CommentReplies,{setShowReply:setShowReply,onAddReply:onAddReply}),showDialog&&/*#__PURE__*/_jsx(CommentDeleteDialogBox,{setShowDialog:setShowDialog,heading:\"Delete Comment\",message:\"Are you sure you want to delete this comment? This will remove comment and cant be undone.\"})]});};export default CommentCard;","map":{"version":3,"names":["React","useState","useEffect","styled","MemoIconReply","Comments","MemoIconEdit","MemoIconDelete","CommentInput","ReplayButton","CommentReplies","CommentDeleteDialogBox","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CountSection","div","_templateObject","_taggedTemplateLiteral","Sign","span","_templateObject2","Comment","li","_templateObject3","CommentHeader","_templateObject4","CommentAuthor","_templateObject5","ReplaySection","_templateObject6","Button","_templateObject7","CommentContent","p","_templateObject8","Text","_templateObject9","CommentUser","_templateObject10","CommentCard","_ref","_data$user","_data$user2","_data$user3","_data$user4","_data$user5","data","currentUser","onAddReply","_useState","_useState2","_slicedToArray","editedComment","setEditedComment","_useState3","_useState4","isEdit","setEdited","_useState5","_useState6","showDialog","setShowDialog","_useState7","_useState8","showReply","setShowReply","children","score","src","user","image","webp","style","width","height","username","paddingLeft","createdAt","color","paddingRight","onClick","className","content","marginLeft","heading","message"],"sources":["C:/Users/user/Desktop/projects/comments-section/src/components/Comment/CommentCard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport MemoIconReply from \"../../assets/icons/IconReply\";\r\nimport { Comments } from \"../../styles/CommentStyles\";\r\nimport MemoIconEdit from \"../../assets/icons/IconEdit\";\r\nimport MemoIconDelete from \"../../assets/icons/IconDelete\";\r\nimport { CommentInput, ReplayButton } from \"../../styles/CommentStyles\";\r\nimport CommentReplies from \"./CommentReplies\";\r\nimport CommentDeleteDialogBox from \"./CommentDeleteDialogBox\";\r\n\r\nconst CountSection = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  background: #f5f6fa;\r\n  margin: 15px;\r\n  flex-direction: column;\r\n  width: 50px;\r\n  border-radius: 8px;\r\n  height: 80px;\r\n`;\r\n\r\nconst Sign = styled.span`\r\n  color: #696cae;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst Comment = styled.li`\r\n  margin-bottom: 5px;\r\n  padding: 15px;\r\n  padding-left: 0;\r\n  color: #8e9198;\r\n  width: 100%;\r\n`;\r\n\r\nconst CommentHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst CommentAuthor = styled.div`\r\n  flex-wrap: wrap;\r\n  align-content: center;\r\n  display: flex;\r\n`;\r\n\r\nconst ReplaySection = styled.span`\r\n  color: #5358b6;\r\n  font-size: 13px;\r\n  cursor: pointer;\r\n  .icon {\r\n    padding-right: 3px;\r\n  }\r\n  &:hover {\r\n    color: #dadbe6;\r\n  }\r\n`;\r\n\r\nconst Button = styled.span`\r\n  color: #5358b6;\r\n  font-size: 13px;\r\n  cursor: pointer;\r\n  .icon {\r\n    padding-right: 3px;\r\n  }\r\n  &:hover {\r\n    background: #dadbe6;\r\n  }\r\n`;\r\nconst CommentContent = styled.p`\r\n  margin-top: 0.5rem;\r\n`;\r\nconst Text = styled.span`\r\n  background: #565baa;\r\n  color: #dadff7;\r\n  padding: 3px;\r\n  padding-top: 0px;\r\n`;\r\nconst CommentUser = styled.span`\r\n  color: #505860;\r\n  font-weight: bold;\r\n  padding-left: 8px;\r\n`;\r\nconst CommentCard = ({ data, currentUser,onAddReply }) => {\r\n  const [editedComment, setEditedComment] = useState(null);\r\n  const [isEdit, setEdited] = useState(false);\r\n  const [showDialog, setShowDialog] = useState(false);\r\n  const [showReply, setShowReply] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      <Comments>\r\n        <CountSection>\r\n          <Sign>+</Sign>\r\n          {data?.score}\r\n          <Sign>-</Sign>\r\n        </CountSection>\r\n        <Comment>\r\n          <CommentHeader>\r\n            <CommentAuthor>\r\n              <img\r\n                src={data.user?.image.webp}\r\n                style={{ width: \"10%\", height: \"10%\" }}\r\n              />\r\n              <CommentUser>\r\n                {\" \"}\r\n                {data.user?.username}{\" \"}\r\n                {currentUser === data.user?.username ? <Text>you</Text> : <></>}\r\n              </CommentUser>\r\n              <span style={{ paddingLeft: \"5px\" }}> {data.createdAt}</span>\r\n            </CommentAuthor>\r\n\r\n            {currentUser === data.user?.username ? (\r\n              <div>\r\n                <Button\r\n                  style={{ color: \"red\", paddingRight: \"3px\" }}\r\n                  onClick={() => setShowDialog(true)}\r\n                >\r\n                  <MemoIconDelete className=\"icon\" />\r\n                  Delete{\" \"}\r\n                </Button>\r\n\r\n                <Button onClick={() => setEdited(true)}>\r\n                  {\" \"}\r\n                  <MemoIconEdit className=\"icon\" /> Edit\r\n                </Button>\r\n              </div>\r\n            ) : (\r\n              <ReplaySection onClick={() => setShowReply(true)}>\r\n                <MemoIconReply className=\"icon\" />\r\n                Reply\r\n              </ReplaySection>\r\n            )}\r\n          </CommentHeader>\r\n\r\n          {currentUser === data.user?.username && isEdit ? (\r\n            <CommentContent>\r\n              <CommentInput>{data.content}</CommentInput>\r\n              <ReplayButton\r\n                style={{ marginLeft: \"88%\" }}\r\n                onClick={() => setEdited(false)}\r\n              >\r\n                UPDATE\r\n              </ReplayButton>\r\n            </CommentContent>\r\n          ) : (\r\n            <CommentContent>{data.content}</CommentContent>\r\n          )}\r\n        </Comment>\r\n      </Comments>\r\n      {showReply && <CommentReplies setShowReply={setShowReply}  onAddReply={onAddReply} />}\r\n      {showDialog && (\r\n        <CommentDeleteDialogBox\r\n        setShowDialog={setShowDialog}\r\n          heading=\"Delete Comment\"\r\n          message=\"Are you sure you want to delete this comment? This will remove comment and cant be undone.\"\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CommentCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}